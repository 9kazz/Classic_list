#Сравнение скоростей работы классического списка (реализовано с использованием указателей) и cash-frendly списка (реализовано с использованием индекса)

Измерения проводились на операционной системе Linux:
1) с флагами комплеляции: "-fno-sanitize=address -fno-sanitize=undefined" для отключения Sanitizers, влияющего на скорость работы программы 
2) и с отключеным режимом верификации и графической распечатки списка (без флагов "-DDEBUG" при компеляции)

Для отключения троттлинга процессора использовалась команда 
"performance | sudo tee /sys/devices/system/cpu/cpu*/cpufreq/scaling_governor"

При измерениях были закрыты остальные программы для чистоты эксперимента, а ноутбук был подключен к зарядному утройству для повышения производительности.

Для замера времени использовалась функция __rdtsc() 

Тестовая задача для списка представляла из себя цикл из 1е6 интераций вида:

    ListEl_t* node2 = List_Insert_After(node1, 10);
    List_Delete(list, node2);


Измерения проводились в сериях по 5 измерений. Их результаты представлены ниже:

    Для классического списка
------------------------------------------|
кол-во    |  кол-во   |   кол-во          |
итераций  |  тактов   |   тактов/итерацию |
------------------------------------------|
1	      | 4,27E+05  |	4,27E+05          |
1,00E+01  |	1,26E+04  | 1,26E+03          |
1,00E+02  |	5,74E+04  |	5,74E+02          |
1,00E+03  |	5,75E+05  |	5,75E+02          |
1,00E+04  |	6,81E+06  |	6,81E+02          |
1,00E+05  |	6,23E+07  |	6,23E+02          |
1,00E+06  |	6,28E+08  |	6,28E+02          |
1,00E+07  |	7,06E+09  |	7,06E+02          |

![](classic_list.png)

        Для cash-frendly списка
------------------------------------------|
кол-во    |  кол-во    |  кол-во          |
итераций  |  тактов    |  тактов/итерацию |
------------------------------------------|
1	      |  1180      | 1180             |
1,00E+01  |	3920	   | 392              |
1,00E+02  |	21980	   | 219,8            |
1,00E+03  |	208600	   | 208,6            |
1,00E+04  |	2104900	   | 210,49           |
1,00E+05  |	18649880   | 186,4988         |
1,00E+06  |	185717203  | 185,717203       |
1,00E+07  |	1848202857 | 184,8202857      |

![](cash_frendly_list.png)

После обработки измерений получаем, что среднее время выполнения 1 итерации составило:

Для классического списка: (428437509 +- 9093183) тактов процессора (относительная погрешность 0.2%)

Для cash-frendly списка:  (108197196 +- 1211203) тактов процессора (относительная погрешность 1.2%)

*Погрешность высчитываем как среднее отклонение от среднего


Ускорение работы списка: 3.96 +- 0.06 (относительная погрешность 1.4%)